[1mdiff --git a/static/extension.css b/static/extension.css[m
[1mindex d75fb5c..b3f7be8 100644[m
[1m--- a/static/extension.css[m
[1m+++ b/static/extension.css[m
[36m@@ -3,16 +3,12 @@[m
 }[m
 [m
 #extension-node-red-extension-view {[m
[31m-  height: calc(100% + 4rem);[m
[31m-  width: calc(100% + 4rem);[m
[31m-  top: -2rem;[m
[31m-  left: -2rem;[m
   box-sizing: border-box;[m
[31m-  overflow: none;[m
[31m-  position: relative;[m
[32m+[m[32m  overflow: hidden;[m
 }[m
 [m
 #extension-node-red-extension-view iframe {[m
   width: 100%;[m
   height: 100%;[m
[32m+[m[32m  position: relative;[m
 }[m
[1mdiff --git a/static/extension.js b/static/extension.js[m
[1mindex 848fb04..4b22c00 100644[m
[1m--- a/static/extension.js[m
[1m+++ b/static/extension.js[m
[36m@@ -8,13 +8,40 @@[m
       window.API.getAddonConfig('node-red-extension').then((config) => {[m
         this.port = config.port || 1880;[m
         this.nodeRedUrl = `http://${window.location.hostname}:${this.port}`;[m
[31m-        this.setupView();[m
[31m-        document.querySelector('#menu-button').style.zIndex = '500';[m
[32m+[m[32m        this.addMenuObserver();[m
[32m+[m[32m        this.applyViewVisibility();[m
       });[m
     }[m
 [m
[31m-    setupView() {[m
[31m-      this.view.innerHTML = `<iframe src = ${this.nodeRedUrl}></iframe>`;[m
[32m+[m[32m    addMenuObserver() {[m
[32m+[m[32m      const mutationObserver = new MutationObserver([m
[32m+[m[32m        (mutationsList, _observer) => {[m
[32m+[m[32m          const relevantMutations = mutationsList.filter((mutation) => {[m
[32m+[m[32m            return mutation.attributeName === 'class';[m
[32m+[m[32m          });[m
[32m+[m[32m          if (!relevantMutations || !relevantMutations[0]) {[m
[32m+[m[32m            return;[m
[32m+[m[32m          }[m
[32m+[m[32m          this.applyViewVisibility();[m
[32m+[m[32m        }[m
[32m+[m[32m      );[m
[32m+[m[32m      mutationObserver.observe([m
[32m+[m[32m        document.getElementById('extension-node-red-extension-view'),[m
[32m+[m[32m        {attributes: true},[m
[32m+[m[32m      );[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    applyViewVisibility() {[m
[32m+[m[32m      const view = document.getElementById([m
[32m+[m[32m        'extension-node-red-extension-view',[m
[32m+[m[32m      );[m
[32m+[m[32m      if (view.className.split(' ').includes('selected')) {[m
[32m+[m[32m        document.querySelector('#menu-button').style.zIndex = '500';[m
[32m+[m[32m        this.view.innerHTML = `<iframe src = ${this.nodeRedUrl}></iframe>`;[m
[32m+[m[32m      } else {[m
[32m+[m[32m        document.querySelector('#menu-button').style.zIndex = null;[m
[32m+[m[32m        this.view.innerHTML = '';[m
[32m+[m[32m      }[m
     }[m
 [m
   }[m
